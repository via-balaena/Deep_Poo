[package]
name = "colon_sim"
version = "0.1.0"
edition = "2024"
license = "AGPL-3.0-only"

[features]
burn_runtime = ["burn", "burn/ndarray", "burn/autodiff", "burn-ndarray"]

[[bin]]
name = "sim_view"
path = "src/main.rs"

[[bin]]
name = "datagen_headless"
path = "src/bin/datagen.rs"

[[bin]]
name = "overlay_labels"
path = "src/bin/overlay_labels.rs"
[[bin]]
name = "train"
path = "src/bin/train.rs"

[[bin]]
name = "eval"
path = "src/bin/eval.rs"

[dependencies]
bevy = "0.17.3"
bevy_rapier3d = { version = "0.32", features = [ "simd-stable", "debug-render-3d" ] }
smallvec = "1.13"
bevy_mesh = "0.17.3"
futures-lite = "2.3"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
image = { version = "0.24", default-features = false, features = ["png", "rayon"] }
rand = "0.8"
clap = { version = "4.5", features = ["derive"] }
burn = { version = "0.14", optional = true }
anyhow = "1.0"
burn-ndarray = { version = "0.14", optional = true }

[dev-dependencies]
tempfile = "3.10"

[patch.crates-io]
burn-core = { path = "vendor/burn-core-0.14.0" }
